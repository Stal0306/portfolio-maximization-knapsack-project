# Portfolio Maximization with Buy/Sell Decision Mechanism

This project explores a **buy and sell mechanism** for stock portfolio optimization using combinatorial (knapsack) methods. The model makes explicit decisions at a fixed point in time (day 60 of each period) to either **hold (buy)** or **sell** each stock, and evaluates these decisions based on subsequent price movements.

## Project Structure

- **Project_2.ipynb**: Main Jupyter notebook containing all code for data processing, decision logic, optimization, visualization, and evaluation.
- **AAPL - STOCK.csv, AMZN - STOCK.csv, ...**: Historical stock data for each asset.
- **confusion_matrix.png**: Visual output of the confusion matrix (generated by the notebook).
- **Math_441_Project_2.pdf**: Project report.

## Requirements

- Python 3.7+
- pandas
- numpy
- matplotlib
- seaborn
- scipy

Install requirements with:
```bash
pip install pandas numpy matplotlib seaborn scipy
```

## How It Works

1. **Data Loading & Cleaning:**  
   Loads historical stock data for several assets.

2. **Scoring & Selection:**  
   For each period, computes a score for each asset based on return, risk (MAD), and EMA difference over the first 60 days.

3. **Buy/Sell Decision:**  
   - At day 60, the model decides for each stock whether to **hold (buy)** or **sell** based on the optimization output.
   - Stocks selected by the knapsack algorithm are "held" (bought); others are "sold".

4. **Evaluation:**  
   - The actual price movement from day 60 to day 80 is used to evaluate the decision.
   - A **confusion matrix** is generated:
     - **True Positive (TP):** Held stock, price went up.
     - **False Positive (FP):** Held stock, price went down.
     - **True Negative (TN):** Sold stock, price went down.
     - **False Negative (FN):** Sold stock, price went up.
   - Standard metrics (accuracy, precision, recall, F1 score) are reported.

5. **Visualization:**  
   - Plots of stock performance and buy/sell decisions.
   - Confusion matrix as a PNG and in tabular form.

## Running the Project

1. Open `Project_2.ipynb` in Jupyter Notebook or JupyterLab.
2. Run all cells in order.
3. Review the plots, confusion matrix, and performance metrics.

## Customization

- Adjust risk/return thresholds in the notebook to change the buy/sell strategy.
- The code is modular for easy experimentation.


## License

This project is for educational purposes.
